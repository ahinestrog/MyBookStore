{{define "title"}}Carrito Â· MyBookStore{{end}}
{{define "content"}}
<section class="cart-page">
  <h2 class="cart-title">ðŸ›’ Tu carrito</h2>

  {{if .Msg}}
  <div class="alert success">{{.Msg}}</div>
  {{end}}

  {{if .Cart.Items}}
  <div class="cart-list">
    {{range .Cart.Items}}
    <div class="cart-item card">
      <div class="cart-info">
        <img src="{{.CoverUrl}}" alt="{{.Title}}" class="cover"/>
        <div>
          <h3>{{.Title}}</h3>
          <p class="author">ID: {{.BookId}}</p>
          <p class="price">Precio: {{call $.FormatCOP .UnitPrice.Cents}}</p>
          <p class="subtotal">Subtotal: {{call $.FormatCOP .LineTotal.Cents}}</p>
        </div>
      </div>

      <div class="cart-actions">
        <form action="/cart/remove" method="post" class="inline">
          <input type="hidden" name="book_id" value="{{.BookId}}">
          <input type="hidden" name="qty" value="1">
          <button class="btn small">-1</button>
        </form>

        <form action="/cart/remove" method="post" class="inline">
          <input type="hidden" name="book_id" value="{{.BookId}}">
          <input type="hidden" name="qty" value="0">
          <button class="btn danger small">Eliminar</button>
        </form>
      </div>
    </div>
    {{end}}
  </div>

  <div class="cart-total">
    <p>Total: <strong>{{call .FormatCOP .Cart.Total.Cents}}</strong></p>
    <div class="cart-buttons">
      <form action="/cart/clear" method="post">
        <button class="btn danger">Vaciar carrito</button>
      </form>
      <a href="/" class="btn primary">Seguir comprando</a>
    </div>
  </div>
  {{else}}
  <div class="card empty-cart">
    <h3>Tu carrito estÃ¡ vacÃ­o ðŸ˜•</h3>
    <a href="/" class="btn primary">Explorar catÃ¡logo</a>
  </div>
  {{end}}
</section>
{{end}}
