{{ define "content" }}
<section class="card">
  <h2>Tu carrito</h2>

  {{ if .Msg }}<div class="msg">{{ .Msg }}</div>{{ end }}

  <table class="tab">
    <thead>
      <tr>
        <th>Book ID</th><th>Título</th><th>Unit (¢)</th><th>Cant</th><th>Subtotal (¢)</th><th>Acciones</th>
      </tr>
    </thead>
    <tbody>
    {{ range .Items }}
      <tr>
        <td>{{ .BookID }}</td>
        <td>{{ .Title }}</td>
        <td>{{ .Unit.String }}</td>
        <td>{{ .Qty }}</td>
        <td>{{ .Line.String }}</td>
        <td class="actions">
          <form action="/remove" method="post">
            <input type="hidden" name="book_id" value="{{ .BookID }}"/>
            <input type="hidden" name="qty" value="1"/>
            <button>-1</button>
          </form>
          <form action="/remove_line" method="post">
            <input type="hidden" name="book_id" value="{{ .BookID }}"/>
            <button class="danger">Eliminar</button>
          </form>
        </td>
      </tr>
    {{ else }}
      <tr><td colspan="6" class="empty">No tienes ítems.</td></tr>
    {{ end }}
    </tbody>
  </table>

  <div class="total">
    Total (¢): <strong>{{ .Total.String }}</strong>
  </div>

  <div class="flex">
    <form action="/clear" method="post">
      <button class="danger">Vaciar carrito</button>
    </form>
    <span class="spacer"></span>
    <a class="btn" href="/">Agregar más</a>
  </div>
</section>
{{ end }}
{{ template "layout.html" . }}
